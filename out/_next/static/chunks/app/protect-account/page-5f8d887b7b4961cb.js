(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[692],{19016:(e,t,r)=>{Promise.resolve().then(r.bind(r,16095))},14990:(e,t,r)=>{"use strict";var s=r(64642);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},16095:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var s=r(98339),n=r(58563),a=r(14990),o=r(7188),c=r(40099),i=r(65586),l=r(28368),d=r(60352),u=r(75447),x=r(86936),h=r(91677),m=r(62850),f=r(31869),p=r(57447),j=r(51459),g=r(19914),v=r(70459),y=r(65403);function b(){let[e,t]=(0,n.useState)(1),[r,d]=(0,n.useState)(1),[b,A]=(0,n.useState)([]),{address:k,chainId:C,isConnected:S,isConnecting:R}=(0,u.F)(),[G,E]=(0,n.useState)(3);(0,n.useEffect)(()=>{C===p.G.id&&E(1)},[C]);let{toast:P}=(0,m.dj)(),T=(0,a.useRouter)(),{guardians:_}=(0,g.k)(),{trigger:L,isLoading:F,loadingMessage:B,cancel:D}=(0,x.r)({guardians:b.map(e=>e.address),threshold:r,srmAddress:y.v[G],onSuccess:()=>{C&&k&&(0,h.KV)(b,C,k),P({title:"Guardian added.",description:"Your new guardian will now be part of your account recovery setup."}),T.push("/manage-recovery/dashboard")}}),q=e=>{A(t=>[...t,e])},I=e=>{A(t=>t.filter((t,r)=>r!==e))},O=(0,n.useCallback)(e=>{C&&window.open((0,v.C)(C,e))},[C]),Y=e=>{d(e)},$=e=>{E(e)};return(_&&_.length>0&&!F&&T.push("/manage-recovery/dashboard"),R)?(0,s.jsx)(w,{}):(0,s.jsx)("div",{className:"flex flex-1 items-center justify-center mx-8",children:S?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.I,{title:(()=>{switch(e){case 1:return"Add Guardians";case 2:return"Set the Approval Threshold";case 3:return"Set the Recovery Delay Period";case 4:return"Review Account Recovery Setup";default:return""}})(),description:(()=>{switch(e){case 1:return"Guardians are trusted contacts that will help recover your account. You can add multiple guardians.";case 2:return"Threshold determines the minimum number of guardian approvals required to recover your account.";case 3:return"Set the time period during which you can cancel a initiated recovery request.";default:return""}})(),currentStep:e,totalSteps:4,onNext:()=>{e<4?t(e=>e+1):L()},onBack:()=>{e>1&&t(e=>e-1)},isNextDisabled:1===e&&0===b.length||4===e&&F,nextLabel:3===e?"Finish and Review":4===e?F?"Loading...":"Setup Recovery":"Next",isProgress:!0,children:(()=>{switch(e){case 1:return(0,s.jsx)("div",{className:"space-y-5",children:(0,s.jsx)(o.A,{guardians:b,onAddGuardian:q,onExternalLink:O,onRemoveGuardian:I})});case 2:return(0,s.jsx)(l.A,{totalGuardians:b.length,onThresholdChange:Y,currentThreshold:r});case 3:return(0,s.jsx)(i.A,{delayPeriod:G,onDelayPeriodChange:$});case 4:return(0,s.jsx)("div",{className:"space-y-5",children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-lg font-bold font-roboto-mono opacity-60",children:"Guardians"}),(0,s.jsx)("div",{className:"mt-3",children:(0,s.jsx)(o.A,{guardians:b,onAddGuardian:q,onRemoveGuardian:I,onExternalLink:O,isReview:!0})}),(0,s.jsx)(c.A,{threshold:r,delayPeriod:G}),(0,s.jsx)("br",{})]})})}})()}),(0,s.jsx)(f.A,{loading:F,loadingText:B,onCancel:D})]}):(0,s.jsx)(N,{})})}function N(){return(0,s.jsxs)("div",{className:"max-w-2xl text-center",children:[(0,s.jsxs)("h2",{className:"text-2xl text-primary font-bold font-roboto-mono text-center ",children:["Connect the Account you want to protect."," "]}),(0,s.jsx)("p",{className:"text-lg font-roboto-mono text-center text-foreground mb-6 mt-4",children:"The recovery module helps you regain control of your account if your key is lost or compromised by relying on trusted guardians you add to your account."}),(0,s.jsx)(d.ConnectWalletButton,{})]})}function w(){return(0,s.jsx)("div",{className:"w-full h-full text-center"})}},51459:(e,t,r)=>{"use strict";r.d(t,{I:()=>c});var s=r(98339),n=r(77427),a=r(64725),o=r(24996);function c(e){let{title:t,description:r,children:c,currentStep:i,totalSteps:l,isProgress:d,onBack:u,onNext:x,nextLabel:h="Next",backLabel:m="Back",isNextDisabled:f=!1,isBackDisabled:p=!1}=e;return(0,s.jsx)("div",{className:"flex flex-col gap-4 flex-1 max-w-2xl mx-auto bg-content-background rounded-3xl p-6 mb-16",children:(0,s.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,s.jsxs)("div",{children:[d&&(0,s.jsx)("div",{className:"flex gap-2 mb-8 pr-5",children:Array.from({length:l},(e,t)=>(0,s.jsx)(a.A,{isSelected:t+1===i},t))}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h2",{className:"text-xl font-bold font-roboto-mono",children:t}),r&&(0,s.jsx)("p",{className:"text-base font-medium opacity-60 font-roboto-mono",children:r})]})]}),c&&(0,s.jsx)("div",{className:"flex-1",children:c}),(0,s.jsx)("div",{className:(0,n.cn)("flex",d?"justify-end":"justify-center"),children:(u||x)&&(0,s.jsxs)("div",{className:"flex gap-3",children:[u&&1!==i&&(0,s.jsx)(o.$,{variant:"outline",onClick:u,disabled:p,className:"px-6 py-2",children:m}),x&&(0,s.jsx)(o.$,{onClick:x,disabled:f,className:"px-6 py-2",children:h})]})})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[401,835,264,769,1,270,956,789,865,358],()=>t(19016)),_N_E=e.O()}]);