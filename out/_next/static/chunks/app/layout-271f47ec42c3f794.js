(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{84467:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,67341,23)),Promise.resolve().then(r.t.bind(r,62754,23)),Promise.resolve().then(r.t.bind(r,80824,23)),Promise.resolve().then(r.t.bind(r,28235,23)),Promise.resolve().then(r.bind(r,60352)),Promise.resolve().then(r.bind(r,46409)),Promise.resolve().then(r.bind(r,34829)),Promise.resolve().then(r.bind(r,68331)),Promise.resolve().then(r.bind(r,74543))},60352:(e,t,r)=>{"use strict";r.d(t,{ConnectWalletButton:()=>o});var s=r(98339),n=r(10133),a=r(24996);let o=()=>(0,s.jsx)(n.Lw.Custom,{children:e=>{let{show:t,isConnected:r,address:n}=e;return(0,s.jsx)(a.$,{onClick:t,type:"button",className:"py-2 px-4 rounded-lg",children:r?"".concat(null==n?void 0:n.slice(0,6),"...").concat(null==n?void 0:n.slice(-4)):"Connect Wallet"})}})},46409:(e,t,r)=>{"use strict";r.d(t,{default:()=>N});var s=r(98339),n=r(58563),a=r(77427),o=r(91191),i=r(47079),d=r(26296),l=r(62850),c=r(68331),u=r(45970),f=r(40807),p=r(43899),h=r(1801),m=r(23762);let g=e=>{let{chainId:t}=e,[r,s]=(0,n.useState)(""),{isLoading:a,setIsLoading:o}=(0,c.n)(),{toast:i}=(0,l.dj)(),d=(0,f.e)({chainId:t}),{srm:g}=(0,h.u)({chainId:t,safeAddress:(0,p.P)(r)?r:void 0}),v=async e=>{if(!d)throw Error("Missing public client");if(!t)throw Error("Missing chainId");if(!g)throw Error("Missing srm");let s=await d.readContract({address:g.moduleAddress,abi:m.F,functionName:"getRecoveryRequest",args:[e]});return s.newThreshold?(0,u.g)({safeAddress:r,newOwners:s.newOwners,newThreshold:Number(s.newThreshold),chainId:String(t)}):""};return{handleSearch:async()=>{if(r.trim()){o(!0);try{if(console.log("searching",r),(0,u.l)(r)){window.location.href=r;return}if((0,p.P)(r)){let e=await v(r);if(e){window.location.href=e;return}i({title:"No recovery process found for this address",description:"Please, check the address and connected chain",isWarning:!0});return}i({title:"Couldn't find any results",description:"Please, insert a valid address or link",isWarning:!0})}catch(e){console.error("Search error:",e),i({title:"Couldn't find any results",description:"Please, insert a valid address or link",isWarning:!0})}finally{o(!1)}}},searchValue:r,setSearchValue:s,isLoading:a}};var v=r(1492),b=r(33452),x=r(10133),w=r(79755),y=r(75447);let j=e=>{let{chainId:t,setChainId:r}=e,a=(0,w.Q)(),{chainId:o}=(0,y.F)(),{chainId:i}=(0,b.A)();return(0,n.useEffect)(()=>{if(i){console.log("a",i),r(String(i));return}o&&(console.log("b",o),r(String(o)))},[i,o,r]),(0,s.jsxs)(v.l6,{value:t,onValueChange:e=>{e&&r(e)},children:[(0,s.jsx)(v.bq,{className:"w-fit h-fit border-0 rounded-lg border-solid p-1 bg-background text-foreground focus:ring-0 focus:outline-none hover:bg-terciary",children:(0,s.jsx)(x.PW,{id:Number(t),size:24})}),(0,s.jsx)(v.gC,{className:"bg-background flex flex-col justify-start items-start p-0 m-0 rounded-lg border-terciary border-[1px] border-solid top-2",children:(0,s.jsx)(v.s3,{className:"items-start justify-start w-full rounded-lg",children:a.map(e=>(0,s.jsx)(v.eb,{className:"px-0 w-full justify-start items-start hover:bg-content-background hover:cursor-pointer",value:e.id.toString(),children:(0,s.jsxs)("div",{className:"pl-1 pr-3 flex gap-2 items-start justify-start",children:[(0,s.jsx)(x.PW,{id:e.id,size:24}),e.name]})},e.id))})})]})},N=()=>{let[e,t]=(0,n.useState)("1"),r=(0,n.useRef)(null),[l,c]=(0,n.useState)(!1);(0,n.useEffect)(()=>{console.log({chainId:e})},[e]);let{isLoading:u,searchValue:f,setSearchValue:p,handleSearch:h}=g({chainId:Number(e)}),m=async e=>{e.preventDefault(),f&&h()};return(0,s.jsx)("form",{onSubmit:m,className:"flex flex-1",children:(0,s.jsxs)("div",{className:(0,a.cn)("flex flex-1 items-center bg-content-background px-2 rounded-lg shadow-lg hover:cursor-text",l?"ring-2 ring-terciary ring-offset-background ring-offset-2":""),onClick:()=>{var e;return null===(e=r.current)||void 0===e?void 0:e.focus()},onFocus:()=>c(!0),onBlur:()=>c(!1),children:[u?(0,s.jsx)(o.A,{size:20,className:"text-content-foreground opacity-60 mr-2 animate-spin"}):(0,s.jsx)(i.A,{size:20,className:"text-content-foreground opacity-60 mr-2 group-hover:opacity-100"}),(0,s.jsx)(d.p,{ref:r,className:"flex-1 border-none bg-content-background text-primary text-xs font-medium py-3 font-roboto-mono focus:outline-none focus:ring-0 focus:ring-offset-0 focus-visible:outline-none focus-visible:ring-0 focus:placeholder:text-primary focus-visible:ring-offset-0",placeholder:"Type address or recovery link",value:f,onChange:e=>p(e.target.value),disabled:u}),(0,s.jsx)(j,{chainId:e,setChainId:t})]})})}},34829:(e,t,r)=>{"use strict";r.d(t,{Toaster:()=>x});var s=r(98339),n=r(62850),a=r(25268),o=r(55625),i=r(57513),d=r(58563),l=r(77427);let c=a.Kq,u=d.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.LM,{ref:t,className:(0,l.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",r),...n})});u.displayName=a.LM.displayName;let f=(0,o.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-lg border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-secondary text-secondary-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),p=d.forwardRef((e,t)=>{let{className:r,variant:n,...o}=e;return(0,s.jsx)(a.bL,{ref:t,className:(0,l.cn)(f({variant:n}),r),...o})});p.displayName=a.bL.displayName,d.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.rc,{ref:t,className:(0,l.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",r),...n})}).displayName=a.rc.displayName;let h=d.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.bm,{ref:t,className:(0,l.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",r),"toast-close":"",...n,children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})});h.displayName=a.bm.displayName;let m=d.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.hE,{ref:t,className:(0,l.cn)("text-sm font-bold",r),...n})});m.displayName=a.hE.displayName;let g=d.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.VY,{ref:t,className:(0,l.cn)("text-sm opacity-60",r),...n})});g.displayName=a.VY.displayName;var v=r(29528),b=r(13206);function x(){let{toasts:e}=(0,n.dj)();return(0,s.jsxs)(c,{children:[e.map(e=>{let{id:t,title:r,description:n,action:a,isWarning:o,...i}=e;return(0,s.jsxs)(p,{...i,className:"mt-5",children:[(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:o?(0,s.jsx)(v.A,{size:40}):(0,s.jsx)(b.A,{size:40})}),(0,s.jsxs)("div",{className:"grid gap-1",children:[r&&(0,s.jsx)(m,{children:r}),n&&(0,s.jsx)(g,{children:n})]})]}),a,(0,s.jsx)(h,{})]},t)}),(0,s.jsx)(u,{})]})}},33452:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(58563);let n=function(){let[e,t]=(0,s.useState)({});return(0,s.useEffect)(()=>{let e=window.location.hash.substring(1),r={};if(!e){t(r);return}for(let t of e.split("&")){let[e,s]=t.split("=");"safeAddress"===e&&s&&(r.safeAddress=s),"newOwners"===e&&s&&(r.newOwners=s.split(",")),"newThreshold"===e&&s&&(r.newThreshold=Number(s)),"chainId"===e&&s&&(r.chainId=Number(s))}r.recoveryLink=r.safeAddress&&r.newOwners&&r.newThreshold?window.location.href:void 0,t(r)},[]),e}},74543:(e,t,r)=>{"use strict";r.d(t,{Web3Provider:()=>y});var s=r(98339),n=r(7934),a=r(62456),o=r(26115),i=r(43276),d=r(80801),l=r(37234),c=r(56408),u=r(46248),f=r(60099),p=r(42596),h=r(57447),m=r(41847),g=r(74663),v=r(10133);let b="02b6cf06bc1d1b779db60f301acca581",x=(0,n.Z)((0,v.Y8)({chains:[l.r,c.R,u.D,f.E,p.n,h.G],transports:{[l.r.id]:(0,a.L)("https://mainnet.infura.io/v3/8ca373e31c3f44bea6a194ab877de49b"),[c.R.id]:(0,a.L)("https://optimism-mainnet.infura.io/v3/8ca373e31c3f44bea6a194ab877de49b"),[u.D.id]:(0,a.L)("https://arbitrum-sepolia.infura.io/v3/8ca373e31c3f44bea6a194ab877de49b"),[f.E.id]:(0,a.L)("https://base-mainnet.infura.io/v3/8ca373e31c3f44bea6a194ab877de49b"),[p.n.id]:(0,a.L)("https://polygon-mainnet.infura.io/v3/8ca373e31c3f44bea6a194ab877de49b"),[h.G.id]:(0,a.L)("https://sepolia.infura.io/v3/8ca373e31c3f44bea6a194ab877de49b")},connectors:[(0,o.b)(),(0,d.u)({projectId:b,showQrModal:!1})],walletConnectProjectId:b,appName:"Candide Account Recovery",appDescription:"App to recover Safe Wallets",appUrl:"http://localhost:3000",appIcon:"https://cdn-icons-png.flaticon.com/128/4064/4064205.png"})),w=new m.E,y=e=>{let{children:t}=e;return(0,s.jsx)(i.x,{config:x,children:(0,s.jsx)(g.Ht,{client:w,children:(0,s.jsx)(v.yr,{options:{walletConnectName:"WalletConnect"},children:t})})})}},68331:(e,t,r)=>{"use strict";r.d(t,{LoadingContextProvider:()=>i,n:()=>d});var s=r(98339),n=r(58563),a=r(64348);let o=(0,n.createContext)({});function i(e){let{children:t}=e,[r,i]=(0,n.useState)(!1);return(0,s.jsxs)(o.Provider,{value:{isLoading:r,setIsLoading:i},children:[(0,s.jsx)(function(){return r?(0,s.jsx)("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50",children:(0,s.jsx)("div",{className:"fixed left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%]",children:(0,s.jsx)(a.A,{className:"flex flex-1 items-center justify-center"})})}):null},{}),t]})}function d(){return(0,n.useContext)(o)}},45970:(e,t,r)=>{"use strict";r.d(t,{g:()=>s,l:()=>n});let s=e=>{let t="";{let e=window.location.protocol,r=window.location.host;t="".concat(e,"//").concat(r)}let r=new URLSearchParams;return r.append("safeAddress",e.safeAddress),r.append("newOwners",e.newOwners.join(",")),r.append("newThreshold",e.newThreshold.toString()),r.append("chainId",e.chainId),"".concat(t,"/manage-recovery/dashboard#").concat(r.toString())},n=e=>{try{let t=e.split("#")[1];if(!t)return!1;let r=new URLSearchParams(t),s=r.get("safeAddress"),n=r.get("newOwners"),a=r.get("newThreshold"),o=r.get("chainId");if(!s||!n||!a||!o)return!1;let i=n.split(",");if(0===i.length)return!1;let d=parseInt(a,10);if(isNaN(d)||d<=0||d>i.length)return!1;return!0}catch(e){return console.error("Error validating link:",e),!1}}},28235:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[391,914,401,835,264,341,20,1,789,865,358],()=>t(84467)),_N_E=e.O()}]);