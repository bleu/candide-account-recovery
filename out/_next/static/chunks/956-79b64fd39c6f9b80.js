"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[956],{60352:(e,t,a)=>{a.d(t,{ConnectWalletButton:()=>o});var r=a(98339),n=a(10133),s=a(24996);let o=()=>(0,r.jsx)(n.Lw.Custom,{children:e=>{let{show:t,isConnected:a,address:n}=e;return(0,r.jsx)(s.$,{onClick:t,type:"button",className:"py-2 px-4 rounded-lg",children:a?"".concat(null==n?void 0:n.slice(0,6),"...").concat(null==n?void 0:n.slice(-4)):"Connect Wallet"})}})},31869:(e,t,a)=>{a.d(t,{A:()=>i});var r=a(98339);a(58563);var n=a(87596),s=a(64348),o=a(24996);function i(e){let{loading:t,loadingText:a,onCancel:i}=e;return(0,r.jsx)(n.lG,{open:t,onOpenChange:i,children:(0,r.jsxs)(n.Cf,{className:"flex flex-col bg-content-background border-none rounded-3xl items-center py-8",children:[(0,r.jsx)(s.A,{}),(0,r.jsx)(n.L3,{className:"font-roboto-mono font-normal text-center text-base text-content-foreground opacity-60",children:a||"Loading..."}),(0,r.jsx)(o.$,{onClick:i,className:"px-6 py-2",children:"Cancel"})]})})}},65586:(e,t,a)=>{a.d(t,{A:()=>i});var r=a(98339),n=a(1492),s=a(57447),o=a(75447);function i(e){let{delayPeriod:t,onDelayPeriodChange:a}=e,{chainId:i}=(0,o.F)();return(0,r.jsxs)(n.l6,{value:t.toString(),onValueChange:e=>a(parseInt(e)),disabled:i===s.G.id,children:[(0,r.jsx)(n.bq,{className:"w-40 border-none focus:ring-primary text-foreground",children:(0,r.jsx)(n.yv,{placeholder:i===s.G.id?"3 minutes":"3 days"})}),(0,r.jsx)(n.gC,{className:"bg-background border-none",children:(0,r.jsxs)(n.s3,{children:[i===s.G.id&&(0,r.jsx)(n.eb,{className:"hover:bg-content-background",value:"1",children:"3 minutes"}),(0,r.jsx)(n.eb,{className:"hover:bg-content-background",value:"3",children:"3 days"}),(0,r.jsx)(n.eb,{className:"hover:bg-content-background",value:"7",children:"7 days"}),(0,r.jsx)(n.eb,{className:"hover:bg-content-background",value:"14",children:"14 days"})]})})]})}},7188:(e,t,a)=>{a.d(t,{A:()=>h});var r=a(98339),n=a(58563),s=a(93210),o=a(77427);let i=s.Kq,l=s.bL,d=s.l9,c=n.forwardRef((e,t)=>{let{className:a,sideOffset:n=4,...i}=e;return(0,r.jsx)(s.UC,{ref:t,sideOffset:n,className:(0,o.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...i})});c.displayName=s.UC.displayName;var u=a(13851),m=a(8325),f=a(43899),g=a(19914);function h(e){let{guardians:t,onAddGuardian:a,onRemoveGuardian:s,onExternalLink:o,isReview:h=!1}=e,x=function(){let{guardians:e,owners:t}=(0,g.k)();return(0,n.useCallback)((a,r)=>{if(!(0,f.P)(a))return{isValid:!1,reason:"Invalid address."};if(r.includes(a))return{isValid:!1,reason:"Repeated guardians are not allowed."};if(void 0===t)throw Error("[validateNewGuardian] missing owners");if(t.includes(a))return{isValid:!1,reason:"Owners can't be guardians."};if(void 0===e)throw Error("[validateNewGuardian] missing guardians");return e.includes(a)?{isValid:!1,reason:"This address is already a guardian."}:{isValid:!0,reason:""}},[t,e])}(),p=(0,n.useCallback)(e=>x(e,t.map(e=>e.address)),[t,x]);return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-[1fr,2fr]",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("label",{className:"text-sm font-bold font-roboto-mono opacity-50",children:"NICKNAME"}),!h&&(0,r.jsx)(i,{children:(0,r.jsxs)(l,{children:[(0,r.jsx)(d,{tabIndex:-1,className:"p-2",children:(0,r.jsx)(u.A,{size:14,className:"opacity-50"})}),(0,r.jsx)(c,{className:"px-4 py-2 max-w-56 bg-background text-xs",children:"Nicknames are saved locally in your browser. This information is private and not shared with any server."})]})})]}),(0,r.jsx)("label",{className:"text-sm font-bold opacity-50 font-roboto-mono ml-2",children:"ADDRESS"})]}),(0,r.jsx)(m.A,{addresses:t,onAdd:a,onRemove:s,validationFn:p,onExternalLink:o,withNicknames:!0,isReview:h})]})}},40099:(e,t,a)=>{a.d(t,{A:()=>o});var r=a(98339),n=a(8890);let s={1:"3-minute",3:"3-day",7:"7-day",14:"14-day"};function o(e){let{threshold:t,delayPeriod:a}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"border-t pt-5",style:n.r.textWithBorderOpacity,children:[(0,r.jsx)("span",{className:"text-lg font-bold font-roboto-mono opacity-60 ",children:a?"Threshold":"New Threshold"}),(0,r.jsxs)("p",{className:"text-base font-roboto-mono text-content-foreground mt-3",children:["Minimum ",t," Guardians approval to recovery."]})]}),a&&(0,r.jsxs)("div",{className:"border-t pt-5",style:n.r.textWithBorderOpacity,children:[(0,r.jsx)("span",{className:"text-lg font-bold font-roboto-mono opacity-60 ",children:"Delay Period"}),(0,r.jsxs)("p",{className:"text-base font-roboto-mono text-content-foreground mt-3",children:[s[a]," period to cancel a recovery request."]})]})]})}},28368:(e,t,a)=>{a.d(t,{A:()=>s});var r=a(98339),n=a(1492);function s(e){let{totalGuardians:t,isNewThreshold:a,currentThreshold:s,onThresholdChange:o}=e,i=Array.from({length:t},(e,t)=>t+1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.l6,{value:(s||1).toString(),onValueChange:e=>{o(parseInt(e))},children:[(0,r.jsx)(n.bq,{className:"w-40 border-none focus:ring-primary text-foreground",children:(0,r.jsx)(n.yv,{})}),(0,r.jsx)(n.gC,{className:"bg-background border-none",children:(0,r.jsx)(n.s3,{children:i.map(e=>(0,r.jsx)(n.eb,{className:"hover:bg-content-background hover:cursor-pointer",value:e.toString(),children:e},e))})})]}),(0,r.jsx)("p",{className:"text-xs font-roboto-mono font-medium opacity-60 mt-2",children:a?"You will now have ".concat(t," guardians. Choose a threshold between 1 and ").concat(t,"."):"".concat(t," guardians added. Choose a threshold between 1 and ").concat(t,".")})]})}},87596:(e,t,a)=>{a.d(t,{Cf:()=>u,Es:()=>f,L3:()=>g,c7:()=>m,lG:()=>l,rr:()=>h});var r=a(98339),n=a(58563),s=a(46659),o=a(57513),i=a(77427);let l=s.bL;s.l9;let d=s.ZL;s.bm;let c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.hJ,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n})});c.displayName=s.hJ.displayName;let u=n.forwardRef((e,t)=>{let{className:a,children:n,...l}=e;return(0,r.jsxs)(d,{children:[(0,r.jsx)(c,{}),(0,r.jsxs)(s.UC,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]",a),...l,children:[n,(0,r.jsxs)(s.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(o.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=s.UC.displayName;let m=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};m.displayName="DialogHeader";let f=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};f.displayName="DialogFooter";let g=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.hE,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...n})});g.displayName=s.hE.displayName;let h=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(s.VY,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...n})});h.displayName=s.VY.displayName},86936:(e,t,a)=>{a.d(t,{t:()=>m,r:()=>f});var r=a(1801),n=a(58563),s=a(75447),o=a(40306),i=a(40807);let l=[{name:"isModuleEnabled",type:"function",stateMutability:"view",inputs:[{name:"module",type:"address"}],outputs:[{name:"",type:"bool"}]}];async function d(e,t,a){try{return await e.readContract({address:t,abi:l,functionName:"isModuleEnabled",args:[a]})}catch(e){return!1}}var c=a(64584),u=a(19914);async function m(e,t,a,r,n,s){let o=[];if(!await d(t,a,e.moduleAddress)){let t=e.createEnableModuleMetaTransaction(a);o.push(t)}for(let[t,a]of r.entries()){let r=e.createAddGuardianWithThresholdMetaTransaction(a,BigInt(n+t+1>s?s:n+t+1));o.push(r)}return o.map(e=>({to:e.to,data:e.data,value:e.value}))}function f(e){let{guardians:t,threshold:a,srmAddress:l,onSuccess:d,onError:f}=e,{address:g}=(0,s.F)(),{data:h}=(0,o.G)(),x=(0,i.e)(),{srm:p}=(0,r.u)({srmAddress:l}),{guardians:b}=(0,u.k)(),v=(0,n.useCallback)(async()=>{if(!g||!h||!x||!t||!a||!b||!p)throw Error("Missing params");return await m(p,x,g,t,b.length,a)},[g,x,h,t,a,p,b]);return(0,c.n)({buildTxFn:v,onSuccess:d,onError:f})}},64584:(e,t,a)=>{a.d(t,{n:()=>f});var r=a(75447),n=a(40306),s=a(40807),o=a(93689),i=a(62850);let l=e=>e.message.includes("User rejected transaction")?"User rejected transaction.":e.message.includes("Aborted")?"Transaction aborted.":e.message.includes("time out")?"Transaction time out.":(console.error(e),"Transaction error.");var d=a(93484);function c(){var e,t,a,o;let{address:i,chainId:l}=(0,r.F)(),{data:c}=(0,n.G)(),u=(0,s.e)(),{data:m}=(0,d.I)({queryKey:["hasContractCode",l,i],queryFn:async()=>{if(!u)throw Error("missing public client");if(!i)throw Error("missing signer");try{let e=await u.getCode({address:i});return!!(e&&e.length>2)}catch(e){return!1}},enabled:!!u&&!!i}),f=!!(null==c?void 0:null===(t=c.chain)||void 0===t?void 0:null===(e=t.contracts)||void 0===e?void 0:e.safe),g=(null==c?void 0:null===(o=c.account)||void 0===o?void 0:null===(a=o.type)||void 0===a?void 0:a.toLowerCase())==="safe";return{isSafeAccount:!!(f||g||m)}}var u=a(58563),m=a(9491);function f(e){let{buildTxFn:t,onSuccess:a,onError:d}=e,[f,h]=(0,u.useState)(!1),[x,p]=(0,u.useState)(!1),{address:b}=(0,r.F)(),{data:v}=(0,n.G)(),y=(0,s.e)(),{isSafeAccount:w}=c(),{waitNextSafeAccountTx:N,cancel:j}=function(e){let{safeAddress:t}=e,a=(0,s.e)(),{data:r}=(0,n.G)(),o=null==r?void 0:r.extend((0,m.p)()),{isSafeAccount:i}=c(),l=(0,u.useMemo)(()=>new AbortController,[]);return{waitNextSafeAccountTx:(0,u.useCallback)(async e=>{if(!a)throw Error("Missing public client");if(!o)throw Error("Missing wallet client");if(!t)throw Error("Missing safe address");if(!i)throw Error("Not a safe address");let r=[1e4,1e4,1e4,1e4,1e4,3e4,3e4,3e4,3e4,6e4,6e4,6e4];for(;;){if(l.signal.aborted)throw Error("Aborted");if(0===r.length)throw Error("Transaction time out.");let t=r.shift();await new Promise((e,a)=>{let r=setTimeout(e,t);l.signal.addEventListener("abort",()=>{throw clearTimeout(r),a(Error("Aborted")),Error("Aborted")})});try{let{receipts:t}=await o.getCallsStatus({id:e});if(t&&t.length>0)return!0}catch(e){if(null==e?void 0:e.message.includes("Transaction not found"))return!0;throw console.error(e),e}}},[a,o,t,i,l]),cancel:()=>{l.abort()}}}({safeAddress:b}),C=null==v?void 0:v.extend((0,m.p)()),E=(0,o.n)({mutationFn:async()=>{if(!b)throw Error("Missing signer");if(!C)throw Error("Missing wallet client");let e=await t();if(e.length<1)throw Error("No transaction to call");h(!0);let a=e.length>1?await C.sendCalls({calls:e}):await C.sendTransaction(e[0]);return h(!1),p(!0),w?await N(a):await (null==y?void 0:y.waitForTransactionReceipt({hash:a})),p(!1),[a]},onSuccess:()=>{a&&a(),h(!1),p(!1),E.reset()},onError:e=>{h(!1),p(!1),(0,i.oR)({title:"Error executing transaction.",description:l(e),isWarning:!0}),d&&d(e)}});return{trigger:()=>{b&&C&&E.mutate()},isLoading:E.isPending,loadingMessage:g(f,x,w),cancel:()=>{w&&j(),E.reset()}}}let g=(e,t,a)=>e&&a?"Waiting for someone to accept the transaction...":e&&!a?"Confirming transaction...":t&&a?"Waiting for transaction execution on safe wallet manager...":t&&!a?"Waiting for transaction exectution...":"Loading transaction..."},65403:(e,t,a)=>{a.d(t,{v:()=>n});var r=a(41520);let n={1:r.jA.After3Minutes,3:r.jA.After3Days,7:r.jA.After7Days,14:r.jA.After14Days}},91677:(e,t,a)=>{a.d(t,{KV:()=>n,cL:()=>o,kR:()=>s});let r=(e,t)=>"".concat("candide-address-recovery:v1","-").concat(e,"-").concat(t.toLowerCase()),n=(e,t,a)=>{try{localStorage.setItem(r(t,a),JSON.stringify(e))}catch(e){console.error("[storeGuardians] Error storing guardians:",e)}},s=(e,t)=>{try{let a=localStorage.getItem(r(e,t));if(!a)return[];return JSON.parse(a)}catch(e){return console.error("[getStoredGuardians] Error getting stored guardians:",e),[]}},o=(e,t)=>{if(!t)return;let a=t.find(t=>t.address===e);if(a)return a.nickname}}}]);